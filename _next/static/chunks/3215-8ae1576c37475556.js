"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3215],{1078:(t,e,n)=>{n.d(e,{_:()=>f});var r=n(75137),a=n(44562),o=n(397);async function i(t,e){let n;let{abi:i,chainId:c,connector:s,...u}=e;n=e.account?e.account:(await (0,o.r)(t,{chainId:c,connector:s})).account;let d=t.getClient({chainId:c}),l=(0,a.T)(d,r.v,"simulateContract"),{result:h,request:w}=await l({...u,abi:i,account:n});return{chainId:d.chain.id,result:h,request:{...w,chainId:c}}}var c=n(45060),s=n(54664),u=n(78386),d=n(84938),l=n(39423),h=n(50148),w=n(84668);function f(t={}){let{abi:e,address:n,connector:r,functionName:a,query:p={}}=t,y=(0,d.U)(t),{data:m}=function(t={}){let{query:e={},...n}=t,r=(0,d.U)(n),a=(0,l.jE)(),{address:i,connector:f,status:p}=(0,w.F)({config:r}),y=(0,u.i)({config:r}),m=t.connector??f,{queryKey:T,...v}=function(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){let{connector:r}=e,{connectorUid:a,scopeKey:i,...c}=n[1];return(0,o.r)(t,{...c,connector:r})},queryKey:function(t={}){let{connector:e,...n}=t;return["connectorClient",{...(0,c.xO)(n),connectorUid:e?.uid}]}(e)}}(r,{...t,chainId:t.chainId??y,connector:m}),I=!!(("connected"===p||"reconnecting"===p&&m?.getProvider)&&(e.enabled??!0)),C=(0,h.useRef)(i);return(0,h.useEffect)(()=>{let t=C.current;!i&&t?(a.removeQueries({queryKey:T}),C.current=void 0):i!==t&&(a.invalidateQueries({queryKey:T}),C.current=i)},[i,a]),(0,s.IT)({...e,...v,queryKey:T,enabled:I,staleTime:Number.POSITIVE_INFINITY})}({config:y,connector:r,query:{enabled:void 0===t.account}}),T=(0,u.i)({config:y}),v=function(t,e={}){return{async queryFn({queryKey:n}){let{abi:r,connector:a}=e;if(!r)throw Error("abi is required");let{scopeKey:o,...c}=n[1],{address:s,functionName:u}=c;if(!s)throw Error("address is required");if(!u)throw Error("functionName is required");return i(t,{abi:r,connector:a,...c})},queryKey:function(t={}){let{abi:e,connector:n,...r}=t;return["simulateContract",(0,c.xO)(r)]}(e)}}(y,{...t,account:t.account??m?.account,chainId:t.chainId??T}),I=!!(e&&n&&a&&(p.enabled??!0));return(0,s.IT)({...p,...v,enabled:I})}},25340:(t,e,n)=>{n.d(e,{x:()=>x});var r=n(94217),a=n(75626),o=n(96526),i=n(7819),c=n(92513),s=n(32323),u=n(77314),d=n(16869),l=n(75272),h=n(47167),w=n(12341),f=n(32031),p=n(82002),y=n(96084),m=n(46880),T=n(91889),v=n(34437),I=n(40937),C=n(79089);let g=new m.A(128);async function q(t,e){let{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:c,blobs:m,data:q,gas:E,gasPrice:P,maxFeePerBlobGas:R,maxFeePerGas:F,maxPriorityFeePerGas:b,nonce:x,value:M,...N}=e;if(void 0===n)throw new o.T({docsPath:"/docs/actions/wallet/sendTransaction"});let _=n?(0,a.J)(n):null;try{(0,T.c)(e);let n=await (async()=>e.to?e.to:null!==e.to&&c&&c.length>0?await (0,d.g)({authorization:c[0]}).catch(()=>{throw new u.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(_?.type==="json-rpc"||null===_){let e;null!==r&&(e=await (0,s.T)(t,v.T,"getChainId")({}),function({chain:t,currentChainId:e}){if(!t)throw new l.jF;if(e!==t.id)throw new l.EH({chain:t,currentChainId:e})}({currentChainId:e,chain:r}));let a=t.chain?.formatters?.transactionRequest?.format,o=(a||y.Bv)({...(0,p.o)(N,{format:a}),accessList:i,authorizationList:c,blobs:m,chainId:e,data:q,from:_?.address,gas:E,gasPrice:P,maxFeePerBlobGas:R,maxFeePerGas:F,maxPriorityFeePerGas:b,nonce:x,to:n,value:M}),u=g.get(t.uid);try{return await t.request({method:u?"wallet_sendTransaction":"eth_sendTransaction",params:[o]},{retryCount:0})}catch(e){if(!1===u)throw e;if("InvalidInputRpcError"===e.name||"InvalidParamsRpcError"===e.name||"MethodNotFoundRpcError"===e.name||"MethodNotSupportedRpcError"===e.name)return await t.request({method:"wallet_sendTransaction",params:[o]},{retryCount:0}).then(e=>(g.set(t.uid,!0),e)).catch(n=>{if("MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name)throw g.set(t.uid,!1),e;throw n});throw e}}if(_?.type==="local"){let e=await (0,s.T)(t,I.ft,"prepareTransactionRequest")({account:_,accessList:i,authorizationList:c,blobs:m,chain:r,data:q,gas:E,gasPrice:P,maxFeePerBlobGas:R,maxFeePerGas:F,maxPriorityFeePerGas:b,nonce:x,nonceManager:_.nonceManager,parameters:[...I.MM,"sidecars"],value:M,...N,to:n}),a=r?.serializers?.transaction,o=await _.signTransaction(e,{serializer:a});return await (0,s.T)(t,C.L,"sendRawTransaction")({serializedTransaction:o})}if(_?.type==="smart")throw new o.Z({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new o.Z({docsPath:"/docs/actions/wallet/sendTransaction",type:_?.type})}catch(t){if(t instanceof o.Z)throw t;throw function(t,{docsPath:e,...n}){let r=(()=>{let e=(0,f.l)(t,n);return e instanceof h.RM?t:e})();return new w.$s(r,{docsPath:e,...n})}(t,{...e,account:_,chain:e.chain||void 0})}}async function E(t,e){let{abi:n,account:r=t.account,address:u,args:d,dataSuffix:l,functionName:h,...w}=e;if(void 0===r)throw new o.T({docsPath:"/docs/contract/writeContract"});let f=r?(0,a.J)(r):null,p=(0,i.p)({abi:n,args:d,functionName:h});try{return await (0,s.T)(t,q,"sendTransaction")({data:`${p}${l?l.replace("0x",""):""}`,to:u,account:f,...w})}catch(t){throw(0,c.j)(t,{abi:n,address:u,args:d,docsPath:"/docs/contract/writeContract",functionName:h,sender:f?.address})}}var P=n(44562),R=n(397);async function F(t,e){let n;let{account:r,chainId:a,connector:o,...i}=e;n="object"==typeof r&&r?.type==="local"?t.getClient({chainId:a}):await (0,R.r)(t,{account:r??void 0,chainId:a,connector:o});let c=(0,P.T)(n,E,"writeContract");return await c({...i,...r?{account:r}:{},chain:a?{id:a}:null})}var b=n(84938);function x(t={}){var e;let{mutation:n}=t,a=(e=(0,b.U)(t),{mutationFn:t=>F(e,t),mutationKey:["writeContract"]}),{mutate:o,mutateAsync:i,...c}=(0,r.n)({...n,...a});return{...c,writeContract:o,writeContractAsync:i}}},31193:(t,e,n)=>{n.d(e,{g:()=>w});var r=n(29144),a=n(5339),o=n(83781),i=n(51763),c=n(44562);async function s(t,e){let{chainId:n,timeout:s=0,...u}=e,d=t.getClient({chainId:n}),l=(0,c.T)(d,a.n,"waitForTransactionReceipt"),h=await l({...u,timeout:s});if("reverted"===h.status){let t=(0,c.T)(d,o.x,"getTransaction"),e=await t({hash:h.transactionHash}),n=(0,c.T)(d,i.T,"call"),a=await n({...e,data:e.input,gasPrice:"eip1559"!==e.type?e.gasPrice:void 0,maxFeePerGas:"eip1559"===e.type?e.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===e.type?e.maxPriorityFeePerGas:void 0});throw Error(a?.data?(0,r.IQ)(`0x${a.data.substring(138)}`):"unknown reason")}return{...h,chainId:d.chain.id}}var u=n(45060),d=n(54664),l=n(78386),h=n(84938);function w(t={}){let{hash:e,query:n={}}=t,r=(0,h.U)(t),a=(0,l.i)({config:r}),o=function(t,e={}){return{async queryFn({queryKey:n}){let{hash:r,...a}=n[1];if(!r)throw Error("hash is required");return s(t,{...a,onReplaced:e.onReplaced,hash:r})},queryKey:function(t={}){let{onReplaced:e,...n}=t;return["waitForTransactionReceipt",(0,u.xO)(n)]}(e)}}(r,{...t,chainId:t.chainId??a}),i=!!(e&&(n.enabled??!0));return(0,d.IT)({...n,...o,enabled:i})}}}]);